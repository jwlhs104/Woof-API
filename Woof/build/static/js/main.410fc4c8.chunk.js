(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{220:function(t,e,n){},221:function(t,e,n){},238:function(t,e){},240:function(t,e){},244:function(t,e){},245:function(t,e){},272:function(t,e){},274:function(t,e){},284:function(t,e){},286:function(t,e){},296:function(t,e){},298:function(t,e){},313:function(t,e){},347:function(t,e){},348:function(t,e){},418:function(t,e){},420:function(t,e){},425:function(t,e){},427:function(t,e){},434:function(t,e){},446:function(t,e){},449:function(t,e){},454:function(t,e){},528:function(t,e,n){"use strict";n.r(e);var c=n(9),o=n.n(c),a=n(208),s=n.n(a),i=(n(220),n(221),n(22)),r=n.n(i),u=n(111),f=n(26),d=n(77),j=new(n(212).a)({supportedChainIds:[1,3,4,5,42]}),h=n(8);function l(t){return Object(h.jsxs)("div",{className:"LeaderBoard",children:["LeaderBoard",Object(h.jsxs)("table",{className:"LeaderBoardTable",children:[Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Fomo Dog Id"}),Object(h.jsx)("th",{children:"Woof!"})]}),t.table.map((function(t){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:t.name}),Object(h.jsx)("td",{children:t.count})]})}))]})]})}function b(t){return Object(h.jsx)("div",{className:"chooseDog",children:Object(h.jsxs)("div",{className:"chooseDogInner",children:[Object(h.jsx)("div",{className:"chooseDogHeader",children:"Choose Your Fomo Dog!"}),Object(h.jsx)("div",{className:"chooseDogFlex",children:t.dogList.map((function(e,n){return Object(h.jsx)("div",{className:"chooseDogImg",children:Object(h.jsx)("img",{src:e,onClick:function(){return function(e){t.onChosen(e)}(n)}})})}))})]})})}function O(){var t=Object(d.b)(),e=(t.active,t.account),n=t.activate,o=t.deactivate,a=Object(c.useState)(0),s=Object(f.a)(a,2),i=s[0],O=s[1],p=Object(c.useState)(!1),m=Object(f.a)(p,2),g=m[0],x=m[1],v=Object(c.useState)(""),y=Object(f.a)(v,2),k=y[0],C=y[1],D=Object(c.useState)("Dog1"),N=Object(f.a)(D,2),S=N[0],_=N[1],w=Object(c.useState)([]),E=Object(f.a)(w,2),B=E[0],L=E[1],F=Object(c.useState)([]),T=Object(f.a)(F,2),I=T[0],W=T[1],P=Object(c.useState)(!1),A=Object(f.a)(P,2),J=A[0],M=A[1],R=Object(c.useState)(!1),Y=Object(f.a)(R,2),H=Y[0],U=Y[1],q=Object(c.useState)([]),z=Object(f.a)(q,2),G=z[0],K=z[1],Q=Object(c.useState)(!1),V=Object(f.a)(Q,2),X=V[0],Z=V[1],$=new Audio("https://notification-sounds.com/soundsfiles/Dog-woof-single-sound.mp3");function tt(){return(tt=Object(u.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n(j);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}function et(){return(et=Object(u.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:U(!1);try{o()}catch(e){console.log(e)}case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){"undefined"!==typeof e&&fetch("/get_fomo_dog?address=".concat(e)).then((function(t){return t.json()})).then((function(t){var e=[];if(t.forEach((function(t){return e.push(t.token_id)})),e.length>0){var n=new URL("https://api.opensea.io/api/v1/assets"),c={token_ids:e,asset_contract_address:"0x90cfCE78f5ED32f9490fd265D16c77a8b5320Bd4"};Object.keys(c).forEach((function(t){Array.isArray(c[t])?c[t].forEach((function(e){return n.searchParams.append(t,e)})):n.searchParams.append(t,c[t])})),fetch(n).then((function(t){return t.json()})).then((function(t){var e=[],n=[];t.assets.forEach((function(t){e.push(t.image_url),n.push(t.token_id)})),W(e),L(n)}))}else Z(!0)}))}),[e]),Object(c.useEffect)((function(){I.length>0&&M(!0)}),[I]),Object(h.jsxs)("div",{className:"Dog",children:[H&&Object(h.jsx)("div",{id:"WoofCount",children:i}),Object(h.jsx)("div",{className:g?"Woof":"Woof hide",onTransitionEnd:function(){x(!1)},children:"Woof!"}),H&&Object(h.jsx)("div",{className:g?"WoofClick shake":"WoofClick",style:{backgroundImage:""!==k?"url(".concat(k,")"):"url(https://fomodog.club/static/media/fomo.c3a49b0a.png)"},onClick:function(){$.play(),O(i+1),x(!0);var t={name:S,count:1};fetch("/add_dog",{method:"POST",headers:{"Content-Type":"text/json"},body:JSON.stringify(t)}).then((function(){fetch("/leaderboard").then((function(t){return t.json()})).then((function(t){K(t)}))}))}}),!H&&Object(h.jsx)("button",{className:"connectButton",onClick:function(){return tt.apply(this,arguments)},children:"Connect to MetaMask"}),H&&Object(h.jsx)(l,{table:G}),J&&Object(h.jsx)(b,{dogList:I,onChosen:function(t){console.log(t),M(!1),U(!0),function(t){var e=B[t];_(e);var n={name:e,count:0};fetch("/add_dog",{method:"POST",headers:{"Content-Type":"text/json"},body:JSON.stringify(n)}).then((function(t){fetch("/get_dog?name=".concat(e)).then((function(t){return t.json()})).then((function(t){O(t.count)}))})),fetch("https://api.opensea.io/api/v1/assets?token_ids=".concat(e,"&asset_contract_address=0x90cfCE78f5ED32f9490fd265D16c77a8b5320Bd4")).then((function(t){return t.json()})).then((function(t){C(t.assets[0].image_url)}))}(t)}}),X&&!H&&Object(h.jsx)("div",{className:"noDog",children:"Sorry, You have no Fomo Dog in your wallet"}),Object(h.jsx)("div",{className:"topRight",children:H&&Object(h.jsx)("div",{className:"connectButton",onClick:function(){return et.apply(this,arguments)},children:"Disconnect"})})]})}var p=n(209),m=n.n(p);function g(t){return new m.a(t)}var x=function(){return Object(h.jsx)(d.a,{getLibrary:g,children:Object(h.jsx)("div",{className:"App",children:Object(h.jsx)("header",{className:"App-header",children:Object(h.jsx)(O,{})})})})},v=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,532)).then((function(e){var n=e.getCLS,c=e.getFID,o=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),c(t),o(t),a(t),s(t)}))};s.a.render(Object(h.jsx)(o.a.StrictMode,{children:Object(h.jsx)(x,{})}),document.getElementById("root")),v()}},[[528,1,2]]]);
//# sourceMappingURL=main.410fc4c8.chunk.js.map